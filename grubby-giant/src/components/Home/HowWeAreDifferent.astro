---
import { normalizeCmsImage } from "../../../utils/common";
import classNames from "classnames";
const { data } = Astro.props;
const backgroundImage = normalizeCmsImage(data?.backgroundImage);
---

<>
  <div
    class="lg:h-[55.625rem] relative lg:my-24 2xl:container 2xl:mx-auto lg:flex"
  >
    <div class="lg:w-[960px] lg:max-h-full max-h-[316px] z-20 ml-auto">
      <img
        src={backgroundImage?.url}
        alt={backgroundImage?.alternativeText}
        class="w-full h-auto object-cover"
      />
    </div>
    <div
      class="flex flex-col justify-center
                  lg:w-[960px] lg:h-[50.625rem]
                  lg:p-10 p-5
                  z-20 bg-[#191919]
                  relative lg:absolute lg:bottom-0 left-0
                  overflow-visible"
    >
      <h2
        class="font-medium text-xl leading-8 tracking-[0.02em] text-brand uppercase text-left overflow-hidden before:h-[2px]
         before:bg-brand before:inline-block before:relative before:align-middle
         before:w-6 before:right-2"
      >
        {data?.heading}
      </h2>
      <h1
        class="font-medium text-2xl lg:text-4xl tracking-[0.02em] text-white text-left leading-[48px] mb-10 max-w-2xl"
      >
        {data?.subheading}
      </h1>
      <section class="flex-col lg:flex-row flex divide-x lg:w-[71.25rem]">
        {
          data?.items?.map((product: any, index: number) => {
            const cardImage = normalizeCmsImage(product?.cardImage);
            return (
              <figure class="p-5 lg:p-10 space-y-5 bg-white lg:w-[23rem]">
                <img
                  src={cardImage?.url}
                  alt={cardImage?.alternativeText}
                  class="w-[3.75rem] h-[3.75rem]"
                />
                <blockquote class=" font-semibold text-xl tracking-[0.02em] leading-8">
                  {product?.cardHeading}
                </blockquote>
                <figcaption class=" font-normal text-base tracking-[0.02em] leading-6">
                  {product?.cardDescription}
                </figcaption>
              </figure>
            );
          })
        }
      </section>
      <section class="mt-[2.5rem]">
        <a
          href={data?.button?.href}
          class={classNames(
            "w-44",
            data?.button?.theme === "primary" && "Button",
            data?.button?.theme === "secondary" && "OutlineButton"
          )}
        >
          {data?.button?.label}
        </a>
      </section>
    </div>
  </div>
</>
