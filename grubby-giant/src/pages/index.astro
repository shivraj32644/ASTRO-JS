---
import Layout from "../layouts/Layout.astro";
import home_page from "../../data/home_page.json";
import BlockManager from "../components/shared/BlockManager";
import Hero from "../components/Home/Hero.astro";
import ServicesWeOffer from "../components/Home/ServicesWeOffer.astro";
import HowWeAreDifferent from "../components/Home/HowWeAreDifferent.astro";
import OurProducts from "../components/Home/OurProducts.astro";
import ProductFeatures from "../components/Home/ProductFeatures.astro";
import WhyCorpcareIsDifferent from "../components/Home/WhyCorpcareIsDifferent.astro";
import OurClients from "../components/Home/OurClients.astro";
import Recognization from "../components/Home/Recognization.astro";
import RelatedInsights from "../components/Home/RelatedInsights.astro";
import Cta from "../components/Home/Cta.astro";

import { Swiper, SwiperSlide } from "swiper/react";
import { Keyboard, Grid, Pagination, Autoplay } from "swiper/modules";
import axios from "axios";

const {
  data: {
    data: { attributes },
  },
} = await axios.get(`https://dev-cms.corpcare.co.in/api/home-page?populate=deep,5`);
// const response = await fetch('https://dev-cms.corpcare.co.in/api/home-page?populate=deep,5');
// const rawData = await response.json();

// console.log("attributes",attributes)
// console.log("rawData",rawData)
---

<Layout title="CorpCare">
  {
    attributes?.Blocks?.map((block:any) => {
      return (
        <>
          {block?.__component === "block.hero" && <Hero blocks={block} />}
          {block?.__component === "block.services-we-offer" && (
            <ServicesWeOffer data={block} />
          )}
          {block?.__component === "block.how-we-are-different" && (
            <HowWeAreDifferent data={block} />
          )}
          {block?.__component === "block.our-products" && (
            <OurProducts data={block} />
          )}
          {block?.__component === "block.product-features" && (
            <ProductFeatures data={block} />
          )}
          {block?.__component === "block.why-corpcare-is-different" && (
            <WhyCorpcareIsDifferent data={block} />
          )}
          {block?.__component === "block.our-clients" && (
            <OurClients data={block} />
          )}
          {block?.__component === "block.recognizations" && (
            <Recognization data={block} />
          )}
          {block?.__component === "block.related-insights" && (
            <RelatedInsights data={block} />
          )}
          {block?.__component === "block.cta" && <Cta data={block} />}
        </>
      );
    })
  }
</Layout>
